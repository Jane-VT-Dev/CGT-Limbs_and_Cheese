package com.June.cgt_mod.procedures;

import com.June.cgt_mod.item.ModItems;
import net.minecraft.commands.CommandSource;
import net.minecraft.commands.CommandSourceStack;
import net.minecraft.network.chat.Component;
import net.minecraft.server.level.ServerLevel;
import net.minecraft.world.entity.Entity;
import net.minecraft.world.entity.player.Player;
import net.minecraft.world.item.ItemStack;
import net.minecraft.world.level.LevelAccessor;
import net.minecraft.world.phys.Vec2;
import net.minecraft.world.phys.Vec3;

public class TrueBible2UsingProcedure {

    public static void execute(LevelAccessor world, double x, double y, double z, Entity entity) {
        if (entity == null)
            return;
        if (world instanceof ServerLevel _level)
            _level.getServer().getCommands().performPrefixedCommand(new CommandSourceStack(CommandSource.NULL, new Vec3(x, y, z), Vec2.ZERO, _level, 4, "", Component.literal(""), _level.getServer(), null).withSuppressedOutput(),
                    "give @p written_book{pages:['[[\"\",{\"text\":\"***True Bible 2***\",\"underlined\":true,\"bold\":true},\"\\\\nYou may wonder why we find no bones from dinosaurs from this era, and rightly so. But keep in mind that dinosaurs don\\'t actually have bones—the whole dinosaurs had bones thing is all an elaborate hoax planned for His own divine amusement.\"]]','[[\" Real dinosaurs, as any enlightened paleontologist—or bone doctor, as they prefer to be called—will tell you, were able to stand erect by engorging selected muscles with blood, making the once flaccid limb rigid.\"]]','[[\" By alternating which muscles were engorged in the correct sequence, a very effective locomotion and rudimentary skeletal structure was achieved.\"]]','[[\"Perverted readers may recognize that this mechanism is similar to what happens in the male penis. Dinosaurs were, in essence, not much more than a massive collection of penises (penii) under a thick skin.\"]]','[[\" While very few accurate descriptions of these creatures have existed into present times, we can be pleased to learn that awareness of them has propagated generationally in our culture.\"]]','[[\"Most men don\\'t even realize that when they exaggerate the size of their penis—referring to it as \\\\\"monstrous\\\\\" or \\\\\"dinosaurlike\\\\\"—they are helping to keep alive the hidden truth of the strange and horny beasts we know as dinosaurs.\"]]','[[\" Some time later, as society progressed, the attention of mankind moved away from dinosaurs—by now they had been conquered and placed under the control of men for work and play—and instead man turned to philosophical thought.\"]]','[[\"The question of our origins came up, and it was decided, based on the apparent natural evidence, that all creatures had evolved from a common ancestor over time some millions of years ago.\"]]','[[\"\\\\n\\\\n\\\\nTwenty-five Hundred Years Ago:\\\\nThe Golden Age of Pirates\"]]','[[\"What happened next is still a mystery. Mankind up until this time had been successfully duped by the FSM, wrongly believing that natural explanations could explain our origins.\"]]','[[\" One would think that the FSM Himself would be pleased by this, as He had gone to so much trouble disguising His creation work. But for whatever reason, He felt the need to expose the truth to us.\"]]','[[\" This was the date, some twenty-five hundred years ago, that He first revealed His Noodly Appendage to us, showing us the way.\"]]','[[\" From this point on, those who accepted His message knew that we were to live a certain way—on the water in great wooden ships, loaded with grog, swag, and, hopefully, wenches.\"]]','[[\" This was His will, and so it was done. Unfortunately, many of the details from this era are lost to us, possibly because many ships sank, due to overloading.\"]]','[[\" Swag is very heavy, and these, the first Pastafarians, showed less than 100 percent perfect judgment, having drunk too much grog. What we do know, though, is that this was the Golden Age of the Pirate lifestyle.\"]]','[[\" Millions, possibly hundreds, of Pirate ships roamed the world\\'s oceans and maybe lakes, searching for a good time, spreading joy and maybe VD to whomever they came into contact with.\"]]','[[\" What we\\'re told of Pirates in history books today is blatantly wrong. Thieves and outcasts they were not—these were His Chosen People, the ones who listened and followed His divine plan, whatever it was.\"]]','[[\" The commonly propagated myth that Pirates were thieves can be traced, unsurprisingly, to the Christian theologists of the Middle Ages.\"]]','[[\" It\\'s just another example of the discrimination and misinformation that we\\'ve had to contend with over the years, and another reason Pastafarians have been so secretive about their beliefs.\"]]','[[\" Regardless of the lies told about them, the first Pastafarians were peace-loving explorers and spreaders of goodwill, not bloodthirsty criminal Pirates.\"]]','[[\" In fact, they were well known to distribute candy to passing children, thus establishing what is now known as Halloween.\"]]','[[\" Of course it was not all good times. Not everyone was a believer, and some rejected His Word and felt the need to go out on the ocean in their own (probably lame) ships and pick fights with the Pastafarians.\"]]','[[\" Most notable was Noah, of biblical fame, who slapped together a monstrous barge made of wood and whatever else was around—probably dirt, who knows? Noah, well known for his love of animals, always had plenty around.\"]]','[[\" So when he found himself with a lack of building materials, he decided to use hundreds of defenseless animals as ballast—mainly the slowest, dumbest, and most dense that he could come across.\"]]','[[\"It\\'s not known exactly what occurred during this time of Noah and the Pirates, but enough historical texts have survived through the years to get a rough picture of the events that transpired.\"]]','[[\" Noah, alone except for his animals/ballast, propelled by jealousy and maybe a group of talking seals, set forth in search of Pastafarians.\"]]','[[\"Unfortunately for Noah, he found one of the most bad-ass Pirate ships around, and started talking way too much smack.\"]]','[[\" The Pastafarians, being above all peaceful, and maybe drunk, ignored his verbal abuse.\"]]','[[\" It was only when Noah, ever the dick, physically attacked the Pastafarian ship by hurling from his bow the pointiest of animals that the Pastafarians took notice.\"]]','[[\" We are told that the largest, scariest of the Pastafarians swam, or maybe just jumped, from ship to ship—they were that powerful—and confronted Noah.\"]]','[[\" Immediately seeing the error of his ways, Noah offered some turtles or something as a way of apologizing.\"]]','[[\"The Pastafarians, probably having plenty of their own turtles, said no deal, and proceeded to intimidate the bejesus out of Noah.\"]]','[[\" We don\\'t know exactly what was said, but it\\'s clear that Noah wet himself to such an extent that even Christians associate him with \\\\\"the Great Flood.\\\\\"\"]]','[[\"Needless to say, he never mistreated animals again—not even chickens, who are pretty much asking for it.\"]]'],title:\"True Bible 2\",author:unknown}");
        if (entity instanceof Player _player) {
            ItemStack _stktoremove = new ItemStack(ModItems.TRUE_BIBLE_2.get());
            _player.getInventory().clearOrCountMatchingItems(p -> _stktoremove.getItem() == p.getItem(), 1, _player.inventoryMenu.getCraftSlots());
        }
    }

}
